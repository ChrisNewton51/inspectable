{"version":3,"names":["rnLib","describe","beforeEach","jest","mock","OS","select","dict","android","it","initConnection","expect","NativeModules","RNIapModule","toBeCalled","RNIapAmazonModule","not"],"sources":["iap.test.ts"],"sourcesContent":["import {NativeModules} from 'react-native';\n\nimport {initConnection} from '../iap';\n\nconst rnLib = '../../node_modules/react-native/Libraries';\n\ndescribe('Google Play IAP', () => {\n  beforeEach(() => {\n    jest.mock(rnLib + '/Utilities/Platform', () => ({\n      OS: 'android',\n      select: (dict: {[x: string]: any}) => dict.android,\n    }));\n  });\n\n  it(\"should call init on Google Play's native module but not on Amazon's\", async () => {\n    await initConnection();\n    expect(NativeModules.RNIapModule.initConnection).toBeCalled();\n    expect(NativeModules.RNIapAmazonModule.initConnection).not.toBeCalled();\n  });\n});\n"],"mappings":";;AAAA;;AAEA;;AAEA,MAAMA,KAAK,GAAG,2CAAd;AAEAC,QAAQ,CAAC,iBAAD,EAAoB,MAAM;EAChCC,UAAU,CAAC,MAAM;IACfC,IAAI,CAACC,IAAL,CAAUJ,KAAK,GAAG,qBAAlB,EAAyC,OAAO;MAC9CK,EAAE,EAAE,SAD0C;MAE9CC,MAAM,EAAGC,IAAD,IAA8BA,IAAI,CAACC;IAFG,CAAP,CAAzC;EAID,CALS,CAAV;EAOAC,EAAE,CAAC,qEAAD,EAAwE,YAAY;IACpF,MAAM,IAAAC,mBAAA,GAAN;IACAC,MAAM,CAACC,0BAAA,CAAcC,WAAd,CAA0BH,cAA3B,CAAN,CAAiDI,UAAjD;IACAH,MAAM,CAACC,0BAAA,CAAcG,iBAAd,CAAgCL,cAAjC,CAAN,CAAuDM,GAAvD,CAA2DF,UAA3D;EACD,CAJC,CAAF;AAKD,CAbO,CAAR"}