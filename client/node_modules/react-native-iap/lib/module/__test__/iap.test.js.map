{"version":3,"names":["NativeModules","initConnection","rnLib","describe","beforeEach","jest","mock","OS","select","dict","android","it","expect","RNIapModule","toBeCalled","RNIapAmazonModule","not"],"sources":["iap.test.ts"],"sourcesContent":["import {NativeModules} from 'react-native';\n\nimport {initConnection} from '../iap';\n\nconst rnLib = '../../node_modules/react-native/Libraries';\n\ndescribe('Google Play IAP', () => {\n  beforeEach(() => {\n    jest.mock(rnLib + '/Utilities/Platform', () => ({\n      OS: 'android',\n      select: (dict: {[x: string]: any}) => dict.android,\n    }));\n  });\n\n  it(\"should call init on Google Play's native module but not on Amazon's\", async () => {\n    await initConnection();\n    expect(NativeModules.RNIapModule.initConnection).toBeCalled();\n    expect(NativeModules.RNIapAmazonModule.initConnection).not.toBeCalled();\n  });\n});\n"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,cAA5B;AAEA,SAAQC,cAAR,QAA6B,QAA7B;AAEA,MAAMC,KAAK,GAAG,2CAAd;AAEAC,QAAQ,CAAC,iBAAD,EAAoB,MAAM;EAChCC,UAAU,CAAC,MAAM;IACfC,IAAI,CAACC,IAAL,CAAUJ,KAAK,GAAG,qBAAlB,EAAyC,OAAO;MAC9CK,EAAE,EAAE,SAD0C;MAE9CC,MAAM,EAAGC,IAAD,IAA8BA,IAAI,CAACC;IAFG,CAAP,CAAzC;EAID,CALS,CAAV;EAOAC,EAAE,CAAC,qEAAD,EAAwE,YAAY;IACpF,MAAMV,cAAc,EAApB;IACAW,MAAM,CAACZ,aAAa,CAACa,WAAd,CAA0BZ,cAA3B,CAAN,CAAiDa,UAAjD;IACAF,MAAM,CAACZ,aAAa,CAACe,iBAAd,CAAgCd,cAAjC,CAAN,CAAuDe,GAAvD,CAA2DF,UAA3D;EACD,CAJC,CAAF;AAKD,CAbO,CAAR"}